% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/coord_spider.R
\docType{data}
\name{coord_spider}
\alias{coord_spider}
\alias{CoordSpider}
\title{Spider (Radar) Coordinate System for ggplot2}
\usage{
coord_spider(
  theta = "x",
  start = 0,
  clip = "off",
  inner.radius = 0,
  outer.radius = 0.8,
  axis_labels = TRUE,
  axis_label_size = 9,
  axis_label_pad_mm = 1,
  r_labels = TRUE,
  r_label_size = 8,
  r_label_pad_mm = 0
)

CoordSpider
}
\arguments{
\item{theta}{Character scalar specifying which position aesthetic is interpreted as the angular coordinate (theta). Must be \code{"x"} or \code{"y"}. In the common spider-chart case, use \code{theta = "x"} with a discrete \code{x} scale (categories around the circle) and a continuous \code{y} scale (radius). Setting \code{theta = "y"} swaps these roles.}

\item{start}{Numeric scalar giving the angular offset in \strong{radians} for the first axis. Angles increase according to the \code{direction} field stored in the coord (this implementation fixes \code{direction = 1} internally). With \code{start = 0}, the first axis is at 12 o'clock (positive vertical). Use \code{start = pi/2} to rotate the first axis to 3 o'clock, etc.}

\item{clip}{Character scalar passed through to the coordinate system to control clipping of grobs to the panel. Use \code{"on"} to clip all drawing (including axis labels drawn in \code{render_bg()}) to the panel region, and \code{"off"} to allow grobs to extend outside the panel. When \code{clip = "on"}, labels that lie beyond the panel boundary will be cut off, so in that case it is recommended to set \code{outer.radius < 1} to reserve headroom inside the panel.}

\item{inner.radius}{Numeric scalar in [0, 1) specifying the inner radius of the spider coordinate system as a fraction of the panel radius. Values greater than 0 create a "donut" / hollow center. The data radius is linearly rescaled onto [\code{inner.radius}, \code{outer.radius}].}

\item{outer.radius}{Numeric scalar in (0, 1] specifying the maximum radius used for drawing the spider geometry as a fraction of the panel radius. Setting \code{outer.radius < 1} shrinks the spider grid and data polygon inward, thereby reserving whitespace inside the panel for labels while keeping \code{clip = "on"}. This is the preferred way to create consistent headroom independent of plot margins and device size.}

\item{axis_labels}{Logical; if \code{TRUE}, draw the theta-axis labels (typically the discrete category labels) at the ends of the spokes using \code{grid::textGrob} in the panel background. Labels are taken from the trained discrete limits of the theta scale.}

\item{axis_label_size}{Numeric scalar giving the font size (in points) for theta-axis labels drawn when \code{axis_labels = TRUE}.}

\item{axis_label_pad_mm}{Numeric scalar giving the outward padding (in mm) applied to theta-axis labels beyond the spoke endpoints. This padding is applied in npc coordinates via \code{grid::unit()}. Increase this to separate labels from the grid. When \code{clip = "on"}, excessive padding may push labels outside the panel and cause clipping; prefer reducing padding or decreasing outer.radius` in that case.}

\item{r_labels}{Logical; if \code{TRUE}, draw radial (r / y-scale) labels along the "upper" spoke (the spoke at angle \code{start}, i.e. 12 o'clock when \code{start = 0}). Breaks and labels are taken from the trained radial scale (typically the \code{y} scale when \code{theta = "x"}). This means user-supplied \code{scale_y_continuous(breaks = ...)} will control both the grid rings and the printed radial labels.}

\item{r_label_size}{Numeric scalar giving the font size (in points) for radial labels drawn when \code{r_labels = TRUE}.}

\item{r_label_pad_mm}{Numeric scalar giving the horizontal padding (in mm) applied to radial labels from the upper spoke. Use positive values to move labels to the right of the spoke. With \code{clip = "on"}, large padding can cause clipping; consider smaller padding and/or smaller \code{outer.radius}.}
}
\value{
A \code{ggproto} object that inherits from \link[ggplot2:Coord]{ggplot2::Coord}. This object is used by ggplot2 to transform data coordinates and to render the panel background (grid rings/spokes and optional axis labels).
}
\description{
\code{coord_spider()} implements a new spider / radar coordinate system using a linear (non-munched) polar-like transform. It is intended for spider charts where connected paths are drawn as \emph{straight chords} between axes (not circular arcs), and where background grid rings are polygons (not circles).
Compared to \code{ggplot2::coord_radial()}, this coordinate system:
\itemize{
\item uses \code{is_linear() = TRUE} to prevent path "munching" into arcs;
\item supports a polygonal background grid (rings + spokes);
\item optionally draws axis labels (theta) and radial (r) labels using \code{grid} grobs in the panel background.
}

Typical usage is to map a discrete variable (categories) to \code{x} (theta) and a continuous variable (scores) to \code{y} (radius), then draw a polygon with \code{geom_polygon()}.

\code{\link[=plot2]{plot2()}} uses this novel coordinate system to plot spider plots, created using \code{plot2(..., type = "spider")}.
}
\examples{
# Example data: one observation across five metrics.
# 'metric' is the discrete theta axis, 'value' is the radial axis.
library(ggplot2)

df <- data.frame(
  metric = c("Final exam grade",
             "Midterm grade",
             "Assignments completed",
             "Hours studying",
             "Classes attended"),
  value = c(70, 60, 10, 15, 25))
df

ggplot(df, aes(metric, value, group = 1)) +
    # Spider/Radar plots only require geom_polygon() with coord_spider():
    geom_polygon(colour = "red", fill = NA, linewidth = 1) +
    coord_spider()
    
ggplot(df, aes(metric, value, group = 1)) +
    geom_polygon(colour = "red", fill = NA, linewidth = 1) +
    geom_point(colour = "red", size = 3) +
    coord_spider(inner.radius = 0.25,
                 r_label_pad_mm = 2) +
    scale_y_continuous(limits = c(0, 100),
                       breaks = c(0, 25, 50, 75, 100)) +
    theme(panel.grid.major.y = element_line(colour = "blue"))
    
df |>
  plot2(type = "spider")
}
\keyword{datasets}
