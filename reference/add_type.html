<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add Plot Element — add_type • plot2</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add Plot Element — add_type"><meta name="description" content="Quickly and conveniently add a new 'geom' to an existing plot2/ggplot model. Like plot2(), these functions support tidy evaluation, meaning that variables can be unquoted. Better yet, they can contain any function with any output length, or any vector. They can be added using the pipe (new base R's |&amp;gt; or tidyverse's %&amp;gt;%)."><meta property="og:description" content="Quickly and conveniently add a new 'geom' to an existing plot2/ggplot model. Like plot2(), these functions support tidy evaluation, meaning that variables can be unquoted. Better yet, they can contain any function with any output length, or any vector. They can be added using the pipe (new base R's |&amp;gt; or tidyverse's %&amp;gt;%)."><meta property="og:image" content="https://msberends.github.io/plot2/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">plot2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.25.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-book-open"></span> Full Manual</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/plot2.html"><span class="fa fa-magnifying-glass-chart"></span> An Intro to plot2</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/plot2.html"><span class="fa fa-chart-simple"></span> Manual for plot2()</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/add_type.html"><span class="fa fa-square-plus"></span> Manual for adding types</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/msberends/plot2"><span class="fa fab fa-github"></span> Source Code</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Add Plot Element</h1>
      <small class="dont-index">Source: <a href="https://github.com/msberends/plot2/blob/main/R/add_type.R" class="external-link"><code>R/add_type.R</code></a></small>
      <div class="d-none name"><code>add_type.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Quickly and conveniently add a new 'geom' to an existing <code>plot2</code>/<code>ggplot</code> model. Like <code><a href="plot2.html">plot2()</a></code>, these functions support tidy evaluation, meaning that variables can be unquoted. Better yet, they can contain any function with any output length, or any vector. They can be added using the pipe (new base <span style="R">R</span>'s <code>|&gt;</code> or tidyverse's <code>%&gt;%</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_type</span><span class="op">(</span><span class="va">plot</span>, type <span class="op">=</span> <span class="cn">NULL</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span>, data <span class="op">=</span> <span class="cn">NULL</span>, move <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_line</span><span class="op">(</span></span>
<span>  <span class="va">plot</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour"</span>, <span class="st">"ggplot2"</span><span class="op">)</span>,</span>
<span>  <span class="va">linetype</span>,</span>
<span>  <span class="va">linewidth</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  move <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  legend.value <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_point</span><span class="op">(</span></span>
<span>  <span class="va">plot</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour"</span>, <span class="st">"ggplot2"</span><span class="op">)</span>,</span>
<span>  <span class="va">size</span>,</span>
<span>  <span class="va">shape</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  move <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  legend.value <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_col</span><span class="op">(</span></span>
<span>  <span class="va">plot</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour"</span>, <span class="st">"ggplot2"</span><span class="op">)</span>,</span>
<span>  <span class="va">colour_fill</span>,</span>
<span>  <span class="va">width</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  move <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  legend.value <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_errorbar</span><span class="op">(</span></span>
<span>  <span class="va">plot</span>,</span>
<span>  <span class="va">min</span>,</span>
<span>  <span class="va">max</span>,</span>
<span>  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour"</span>, <span class="st">"ggplot2"</span><span class="op">)</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  move <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_sf</span><span class="op">(</span></span>
<span>  <span class="va">plot</span>,</span>
<span>  <span class="va">sf_data</span>,</span>
<span>  colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour_sf"</span>, <span class="st">"grey50"</span><span class="op">)</span>,</span>
<span>  colour_fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour_sf_fill"</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.colour"</span>, <span class="st">"ggplot2"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  linewidth <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  datalabels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  datalabels.colour <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  datalabels.size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  datalabels.angle <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  datalabels.font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"plot2.font"</span><span class="op">)</span>,</span>
<span>  datalabels.nudge_y <span class="op">=</span> <span class="fl">2500</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  inherit.aes <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>a <code>ggplot2</code> plot</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>a <code>ggplot2</code> geom name, all geoms are supported. Full function names can be used (e.g., <code>"geom_line"</code>), but they can also be abbreviated (e.g., <code>"l"</code>, <code>"line"</code>). These geoms can be abbreviated by their first character: area (<code>"a"</code>), boxplot (<code>"b"</code>), column (<code>"c"</code>), histogram (<code>"h"</code>), jitter (<code>"j"</code>), line (<code>"l"</code>), point (<code>"p"</code>), ribbon (<code>"r"</code>), violin (<code>"v"</code>).</p></dd>


<dt id="arg-mapping">mapping<a class="anchor" aria-label="anchor" href="#arg-mapping"></a></dt>
<dd><p>a mapping created with <code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code> to pass on to the geom</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>data to use in mapping</p></dd>


<dt id="arg-move">move<a class="anchor" aria-label="anchor" href="#arg-move"></a></dt>
<dd><p>number of layers to move the newly added geom down, e.g., <code>move = 1</code> will place the newly added geom down 1 layer, thus directly under the highest layer</p></dd>


<dt id="arg-x-y">x, y<a class="anchor" aria-label="anchor" href="#arg-x-y"></a></dt>
<dd><p>aesthetic arguments</p></dd>


<dt id="arg-colour-colour-fill">colour, colour_fill<a class="anchor" aria-label="anchor" href="#arg-colour-colour-fill"></a></dt>
<dd><p>colour of the line or column, will be evaluated with <code><a href="colour.html">colour()</a></code>. If <code>colour_fill</code> is missing but <code>colour</code> is given, <code>colour_fill</code> will inherit the colour set with <code>colour</code>.</p></dd>


<dt id="arg-linetype-linewidth-shape-size-width-">linetype, linewidth, shape, size, width, ...<a class="anchor" aria-label="anchor" href="#arg-linetype-linewidth-shape-size-width-"></a></dt>
<dd><p>arguments passed on to the geom</p></dd>


<dt id="arg-inherit-aes">inherit.aes<a class="anchor" aria-label="anchor" href="#arg-inherit-aes"></a></dt>
<dd><p>a <a href="https://rdrr.io/r/base/logical.html" class="external-link">logical</a> to indicate whether the default aesthetics should be inherited, rather than combining with them</p></dd>


<dt id="arg-legend-value">legend.value<a class="anchor" aria-label="anchor" href="#arg-legend-value"></a></dt>
<dd><p>text to show in an additional legend that will be created. Since <code>ggplot2</code> does not actually support this, it may give some false-positive warnings or messages, such as "Removed 1 row containing missing values or values outside the scale range".</p></dd>


<dt id="arg-min-max">min, max<a class="anchor" aria-label="anchor" href="#arg-min-max"></a></dt>
<dd><p>minimum (lower) and maximum (upper) values of the error bars</p></dd>


<dt id="arg-sf-data">sf_data<a class="anchor" aria-label="anchor" href="#arg-sf-data"></a></dt>
<dd><p>an 'sf' <a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></p></dd>


<dt id="arg-datalabels">datalabels<a class="anchor" aria-label="anchor" href="#arg-datalabels"></a></dt>
<dd><p>a column of <code>sf_data</code> to add as label below the points</p></dd>


<dt id="arg-datalabels-colour-datalabels-size-datalabels-angle-datalabels-font">datalabels.colour, datalabels.size, datalabels.angle, datalabels.font<a class="anchor" aria-label="anchor" href="#arg-datalabels-colour-datalabels-size-datalabels-angle-datalabels-font"></a></dt>
<dd><p>properties of <code>datalabels</code></p></dd>


<dt id="arg-datalabels-nudge-y">datalabels.nudge_y<a class="anchor" aria-label="anchor" href="#arg-datalabels-nudge-y"></a></dt>
<dd><p>is <code>datalabels</code> is not <code>NULL</code>, the amount of vertical adjustment of the datalabels (positive value: more to the North, negative value: more to the South)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <code>ggplot</code> object</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function <code>add_line()</code> will add:</p><ul><li><p><code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline()</a></code> if only <code>y</code> is provided;</p></li>
<li><p><code><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline()</a></code> if only <code>x</code> is provided;</p></li>
<li><p><code><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line()</a></code> in all other cases.</p></li>
</ul><p>The function <code>add_errorbar()</code> only adds error bars to the <code>y</code> values, see <em>Examples</em>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1          5.1         3.5          1.4         0.2  setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2          4.9         3.0          1.4         0.2  setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          4.7         3.2          1.3         0.2  setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4          4.6         3.1          1.5         0.2  setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          5.0         3.6          1.4         0.2  setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          5.4         3.9          1.7         0.4  setosa</span>
<span class="r-in"><span>                 </span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="va">iris</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot2.html">plot2</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Length</span>,</span></span>
<span class="r-in"><span>        y <span class="op">=</span> <span class="va">Sepal.Width</span>,</span></span>
<span class="r-in"><span>        category <span class="op">=</span> <span class="va">Species</span>,</span></span>
<span class="r-in"><span>        zoom <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">type = "point"</span><span style="color: #000000;"> since both axes are numeric</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.15 0.15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.15 0.15</span>
<span class="r-in"><span><span class="va">p</span></span></span>
<span class="r-plt img"><img src="add_type-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># if not specifying x or y, current plot data are taken</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> <span class="fu">add_line</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># single values for add_line() will plot 'hline' or 'vline'</span></span></span>
<span class="r-in"><span><span class="co"># even considering the `category` if set</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set `colour` to ignore existing colours</span></span></span>
<span class="r-in"><span><span class="co"># and use `legend.value` to add a legend</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           colour <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>           legend.value <span class="op">=</span> <span class="st">"Average"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">add_point</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            shape <span class="op">=</span> <span class="fl">13</span>,</span></span>
<span class="r-in"><span>            size <span class="op">=</span> <span class="fl">25</span>,</span></span>
<span class="r-in"><span>            show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># multiple values will just plot multiple lines</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/fivenum.html" class="external-link">fivenum</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           colour <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>           legend.value <span class="op">=</span> <span class="st">"Tukey's Numbers"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">Sepal.Width</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"black"</span>, <span class="st">"red"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>           linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># use move to move the new layer down</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_point</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>            colour <span class="op">=</span> <span class="st">"lightpink"</span>,</span></span>
<span class="r-in"><span>            move <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># providing x and y will just plot the points as new data,</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_point</span><span class="op">(</span>y <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>            x <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">7</span>,</span></span>
<span class="r-in"><span>            colour <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>            size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># even with expanded grid if x and y are not of the same length</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_point</span><span class="op">(</span>y <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>            x <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">8</span>,</span></span>
<span class="r-in"><span>            colour <span class="op">=</span> <span class="st">"red"</span>,</span></span>
<span class="r-in"><span>            size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="add_type-11.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># any mathematical transformation of current values is supported</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>var_1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 var_2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot2.html">plot2</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu">add_line</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">var_2</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>           linetype <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>           legend.value <span class="op">=</span> <span class="st">"Average"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">add_col</span><span class="op">(</span>y <span class="op">=</span> <span class="va">var_2</span> <span class="op">/</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>          width <span class="op">=</span> <span class="fl">0.25</span>,</span></span>
<span class="r-in"><span>          colour <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>          legend.value <span class="op">=</span> <span class="st">"This *is* **some** symbol: $beta$"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">x = var_1</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">y = var_2</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">type = "point"</span><span style="color: #000000;"> since both axes are numeric</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.0 0.5 0.0 0.5</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 1 row containing missing values or values outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`geom_col()`).</span>
<span class="r-plt img"><img src="add_type-12.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plotting error bars was never easier</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">25</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">var_1</span> <span class="op">&lt;=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>error1 <span class="op">=</span> <span class="va">var_2</span> <span class="op">*</span> <span class="fl">0.9</span>,</span></span>
<span class="r-in"><span>         error2 <span class="op">=</span> <span class="va">var_2</span> <span class="op">*</span> <span class="fl">1.1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     var_1     var_2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1  39.06841</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       2  99.86072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       3 115.53882</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       4 128.71029</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       5  54.45456</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       6  93.81687</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       7  93.89501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       8  92.93236</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       9  86.15752</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     10 115.72455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     11 151.62562</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     12  59.22526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     13 112.81067</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     14  53.42471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     15  86.94969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     16  98.68495</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     17 113.57491</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     18  77.14813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19     19 111.70386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     20 109.07378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21     21  67.38641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22     22 118.44441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23     23 147.21262</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24     24  97.56387</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25     25  76.60382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26     26  99.60124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27     27  79.33028</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28     28  62.19001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29     29 123.38408</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30     30 104.41222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31     31 106.09214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32     32 140.58872</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33     33 102.80095</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34     34  96.65007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35     35  52.24781</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36     36  93.01907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37     37  92.16385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38     38 126.68270</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39     39 101.75087</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40     40  84.02192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41     41  98.75088</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42     42  93.71291</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43     43 111.11993</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44     44 168.88544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45     45 101.16328</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46     46 114.44273</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47     47 102.95487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48     48  52.20699</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49     49 121.55216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50     50  93.91908</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51     51  94.84782</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52     52 100.47944</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53     53 100.73902</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54     54 113.74569</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55     55  43.14713</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56     56 167.06393</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57     57  90.96947</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58     58 105.33389</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59     59 126.85865</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60     60  83.37279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61     61 127.84881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62     62  93.85259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63     63  70.56092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64     64  75.60373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65     65 126.62643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66     66 103.29177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67     67 112.21572</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68     68  57.51374</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69     69  63.23159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70     70 107.10376</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71     71 133.43301</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72     72 105.91741</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73     73 132.95733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74     74 113.09774</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75     75 115.16870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76     76  97.25161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77     77 104.30454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78     78  97.74182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79     79 148.10858</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80     80 132.45982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81     81 118.71978</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82     82 113.90561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83     83  86.29357</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84     84 127.76337</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85     85  34.69164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86     86  96.10766</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87     87 110.84724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88     88  90.45122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89     89 110.60469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90     90 126.57755</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91     91 126.21782</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92     92  99.04743</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93     93 112.15372</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94     94 141.82207</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95     95  91.14097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96     96 123.65870</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 97     97 132.92066</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 98     98  92.58400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99     99  90.31966</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100   100  80.36418</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot2.html">plot2</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"col"</span>, datalabels <span class="op">=</span> <span class="cn">FALSE</span>, alpha <span class="op">=</span> <span class="fl">0.25</span>, width <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span> <span class="op">|&gt;</span> </span></span>
<span class="r-in"><span>  <span class="co"># add the error bars, simply by referencing the lower and upper values</span></span></span>
<span class="r-in"><span>  <span class="fu">add_errorbar</span><span class="op">(</span><span class="va">error1</span>, <span class="va">error2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">This additional argument is given to the geom: </span><span style="color: #0000BB;">alpha</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">x = var_1</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">y = var_2</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">x.character = TRUE</span><span style="color: #000000;"> for discrete plot type (</span><span style="color: #0000BB;">geom_col</span><span style="color: #000000;">) since </span><span style="color: #0000BB;">var_1</span><span style="color: #000000;"> is numeric</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-plt img"><img src="add_type-13.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># adding sf objects is just as convenient as all else</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot2.html">plot2</a></span><span class="op">(</span><span class="va">netherlands</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">category = area_km2</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">datalabels = province</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Assuming </span><span style="color: #0000BB;">datalabels.centroid = TRUE</span><span style="color: #000000;">. Set to FALSE for a point-on-surface placing of datalabels.</span></span>
<span class="r-plt img"><img src="add_type-14.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="plot2.html">plot2</a></span><span class="op">(</span><span class="va">netherlands</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">add_sf</span><span class="op">(</span><span class="va">netherlands</span>, colour_fill <span class="op">=</span> <span class="cn">NA</span>, colour <span class="op">=</span> <span class="st">"red"</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">category = area_km2</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Using </span><span style="color: #0000BB;">datalabels = province</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">i</span> <span style="color: #000000;">Assuming </span><span style="color: #0000BB;">datalabels.centroid = TRUE</span><span style="color: #000000;">. Set to FALSE for a point-on-surface placing of datalabels.</span></span>
<span class="r-plt img"><img src="add_type-15.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthijs S. Berends.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

